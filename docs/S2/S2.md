# –≠–¢–ê–ü 2: AI-–ü–†–ò–ú–ï–†–ö–ê –û–î–ï–ñ–î–´

## –¶–ï–õ–¨ –≠–¢–ê–ü–ê
–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –ø—Ä–∏–º–µ—Ä–∫–∏ –æ–¥–µ–∂–¥—ã: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Å–≤–æ–µ —Ñ–æ—Ç–æ, —Å–∏—Å—Ç–µ–º–∞ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å —Ç–æ–≤–∞—Ä–æ–º –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ —á–µ—Ä–µ–∑ Gemini API.

---

## 1. –ê–†–•–ò–¢–ï–ö–¢–£–†–ê –ò –ò–ù–¢–ï–ì–†–ê–¶–ò–ò

### 1.1 –ù–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

**GPT Integration Service (FastAPI):**
- –û—Ç–¥–µ–ª—å–Ω—ã–π –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å AI
- –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —á–µ—Ä–µ–∑ ChatGPT
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–∏–º–µ—Ä–æ–∫ —á–µ—Ä–µ–∑ Gemini API (CometAPI)
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –Ω–∞ –Ω–µ–ø—Ä–∏–µ–º–ª–µ–º–æ—Å—Ç—å

**–•—Ä–∞–Ω–∏–ª–∏—â–µ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π:**
- –õ–æ–∫–∞–ª—å–Ω–∞—è —Ñ–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞
- –°—Ç—Ä—É–∫—Ç—É—Ä–∞: `/storage/user_photos/{user_id}/` –∏ `/storage/try_on_results/{user_id}/`

**–ù–æ–≤—ã–µ —Ç–∞–±–ª–∏—Ü—ã PostgreSQL:**
- `user_photos` - —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `try_on_history` - –∏—Å—Ç–æ—Ä–∏—è –ø—Ä–∏–º–µ—Ä–æ–∫

### 1.2 API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

**ChatGPT API (—á–µ—Ä–µ–∑ OpenAI-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π endpoint):**
- –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ç–æ: –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è —á–µ–ª–æ–≤–µ–∫–∞ (–º–∏–Ω–∏–º—É–º –ø–æ –ø–æ—è—Å)
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –Ω–µ–ø—Ä–∏–µ–º–ª–µ–º—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π JSON —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏ –æ–ø–∏—Å–∞–Ω–∏–µ–º –ø—Ä–æ–±–ª–µ–º

**Gemini Image Generation API (—á–µ—Ä–µ–∑ CometAPI):**
- –ú–æ–¥–µ–ª—å: `gemini-3-pro-image`
- –í—Ö–æ–¥: –¥–æ 3 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (—Ñ–æ—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è + 2 —Ñ–æ—Ç–æ —Ç–æ–≤–∞—Ä–∞) + —Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø—Ä–æ–º–ø—Ç
- –í—ã—Ö–æ–¥: base64-encoded –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ (data URI)
- Timeout: 180 —Å–µ–∫—É–Ω–¥

---

## 2. –ë–ê–ó–ê –î–ê–ù–ù–´–•

### 2.1 –¢–∞–±–ª–∏—Ü–∞: user_photos

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –•—Ä–∞–Ω–µ–Ω–∏–µ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –¥–ª—è –ø—Ä–∏–º–µ—Ä–∫–∏

**–ü–æ–ª—è:**
- `id` - PRIMARY KEY
- `user_id` - FOREIGN KEY –Ω–∞ users.id
- `file_id` - Telegram file_id (–¥–ª—è —Å—Å—ã–ª–∫–∏ –Ω–∞ –æ—Ä–∏–≥–∏–Ω–∞–ª)
- `file_path` - –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- `uploaded_at` - –¥–∞—Ç–∞ –∑–∞–≥—Ä—É–∑–∫–∏
- `is_active` - –∞–∫—Ç–∏–≤–Ω–æ –ª–∏ —Ñ–æ—Ç–æ (–±—É–ª–µ–≤–æ)
- `consent_given` - –¥–∞–Ω–æ –ª–∏ —Å–æ–≥–ª–∞—Å–∏–µ –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É (–±—É–ª–µ–≤–æ)

**–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:**
- –û–¥–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å –º–∞–∫—Å–∏–º—É–º 3 —Ñ–æ—Ç–æ
- –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ 4-–≥–æ —Ñ–æ—Ç–æ —É–¥–∞–ª—è–µ—Ç—Å—è —Å–∞–º–æ–µ —Å—Ç–∞—Ä–æ–µ

### 2.2 –¢–∞–±–ª–∏—Ü–∞: try_on_history

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ò—Å—Ç–æ—Ä–∏—è –ø—Ä–∏–º–µ—Ä–æ–∫ –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞

**–ü–æ–ª—è:**
- `id` - PRIMARY KEY
- `user_id` - FOREIGN KEY –Ω–∞ users.id
- `product_id` - ID —Ç–æ–≤–∞—Ä–∞ –∏–∑ Google Sheets
- `user_photo_id` - FOREIGN KEY –Ω–∞ user_photos.id
- `result_file_path` - –ø—É—Ç—å –∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É –ø—Ä–∏–º–µ—Ä–∫–∏
- `created_at` - –¥–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è
- `generation_time` - –≤—Ä–µ–º—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –≤ —Å–µ–∫—É–Ω–¥–∞—Ö
- `status` - —Å—Ç–∞—Ç—É—Å (success, failed, processing)

**–ò–Ω–¥–µ–∫—Å—ã:**
- INDEX –Ω–∞ user_id, product_id –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç–∏ —Ç–æ–≤–∞—Ä–æ–≤

---

## 3. –§–£–ù–ö–¶–ò–û–ù–ê–õ –ü–†–ò–ú–ï–†–ö–ò

### 3.1 –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**–ü–µ—Ä–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞:**
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç "üëó –ü—Ä–∏–º–µ—Ä–∏—Ç—å" –≤ –∫–∞—Ä—Ç–æ—á–∫–µ —Ç–æ–≤–∞—Ä–∞
2. –ï—Å–ª–∏ —Ñ–æ—Ç–æ –Ω–µ—Ç - –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç—Å—è –∑–∞–≥—Ä—É–∑–∫–∞ —Å –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ–º —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π
3. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –¥–∞—Ç—å —Å–æ–≥–ª–∞—Å–∏–µ –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É —Ñ–æ—Ç–æ
4. –ó–∞–≥—Ä—É–∂–∞–µ—Ç —Ñ–æ—Ç–æ (JPG/PNG, –ª—é–±–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞)

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Ñ–æ—Ç–æ:**
- –§–æ—Ä–º–∞—Ç: JPG, PNG
- –ú–∞–∫—Å–∏–º—É–º 10 –ú–ë (–µ—Å–ª–∏ –±–æ–ª—å—à–µ - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–∂–∞—Ç–∏–µ)
- –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ: 512x512 –ø–∏–∫—Å–µ–ª–µ–π

**–û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–æ—Ç–æ:**
1. –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –∏–∑ Telegram
2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–º–µ—Ä–∞ –∏ —Ñ–æ—Ä–º–∞—Ç–∞
3. –°–∂–∞—Ç–∏–µ –µ—Å–ª–∏ >10 –ú–ë
4. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä –≤ `/storage/user_photos/{user_id}/`

### 3.2 –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ç–æ —á–µ—Ä–µ–∑ ChatGPT

**–ü—Ä–æ—Ü–µ—Å—Å:**
1. –§–æ—Ç–æ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤ ChatGPT —Å –ø—Ä–æ–º–ø—Ç–æ–º –≤–∞–ª–∏–¥–∞—Ü–∏–∏
2. ChatGPT –ø—Ä–æ–≤–µ—Ä—è–µ—Ç:
   - –ï—Å—Ç—å –ª–∏ —á–µ–ª–æ–≤–µ–∫ –Ω–∞ —Ñ–æ—Ç–æ (–º–∏–Ω–∏–º—É–º –ø–æ –ø–æ—è—Å)
   - –ö–∞—á–µ—Å—Ç–≤–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–∞—è —á–µ—Ç–∫–æ—Å—Ç—å)
   - –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –Ω–µ–ø—Ä–∏–µ–º–ª–µ–º–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
3. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç JSON: `{valid: bool, reason: string, description: string}`

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏:**
- **–§–æ—Ç–æ –ø–æ–¥—Ö–æ–¥–∏—Ç:** —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î, –ø–µ—Ä–µ—Ö–æ–¥ –∫ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
- **–§–æ—Ç–æ –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç:** –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –ø–æ–Ω—è—Ç–Ω–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ –æ—Ç ChatGPT, –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∏—Ç—å –¥—Ä—É–≥–æ–µ —Ñ–æ—Ç–æ
- **–ù–µ–ø—Ä–∏–µ–º–ª–µ–º—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç:** –æ—Ç–∫–∞–∑, —Å–æ–æ–±—â–µ–Ω–∏–µ –æ –ø—Ä–∏—á–∏–Ω–µ

### 3.3 –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è–º–∏

**–ü—Ä–æ—Å–º–æ—Ç—Ä —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö —Ñ–æ—Ç–æ:**
- –í —Ä–∞–∑–¥–µ–ª–µ "üìê –ú–æ–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã" –∫–Ω–æ–ø–∫–∞ "üì∏ –ú–æ–∏ —Ñ–æ—Ç–æ"
- –û—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤—Å–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ —Ñ–æ—Ç–æ (–¥–æ 3 —à—Ç—É–∫)
- –î–ª—è –∫–∞–∂–¥–æ–≥–æ: –ø—Ä–µ–≤—å—é, –¥–∞—Ç–∞ –∑–∞–≥—Ä—É–∑–∫–∏, –∫–Ω–æ–ø–∫–∏ "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å" –∏ "–£–¥–∞–ª–∏—Ç—å"

**–í—ã–±–æ—Ä —Ñ–æ—Ç–æ –¥–ª—è –ø—Ä–∏–º–µ—Ä–∫–∏:**
- –ï—Å–ª–∏ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —É–∂–µ –µ—Å—Ç—å —Ñ–æ—Ç–æ - –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç—Å—è –≤—ã–±—Ä–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–µ –∏–ª–∏ –∑–∞–≥—Ä—É–∑–∏—Ç—å –Ω–æ–≤–æ–µ
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –ø—Ä–µ–≤—å—é –≤—Å–µ—Ö —Å–≤–æ–∏—Ö —Ñ–æ—Ç–æ
- –í—ã–±–∏—Ä–∞–µ—Ç –Ω—É–∂–Ω–æ–µ –¥–ª—è –ø—Ä–∏–º–µ—Ä–∫–∏

**–ó–∞–º–µ–Ω–∞ —Ñ–æ—Ç–æ:**
- –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –Ω–æ–≤–æ–≥–æ —Ñ–æ—Ç–æ (–µ—Å–ª–∏ —É–∂–µ 3 —Ñ–æ—Ç–æ) - —É–¥–∞–ª—è–µ—Ç—Å—è —Å–∞–º–æ–µ —Å—Ç–∞—Ä–æ–µ
- –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç—Å—è –Ω–æ–≤–æ–µ —Å–æ–≥–ª–∞—Å–∏–µ –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É

### 3.4 –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–∏–º–µ—Ä–∫–∏

**–ü—Ä–æ—Ü–µ—Å—Å:**
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç —Ñ–æ—Ç–æ –∏ –Ω–∞–∂–∏–º–∞–µ—Ç "–ü—Ä–∏–º–µ—Ä–∏—Ç—å"
2. –°–æ–∑–¥–∞–µ—Ç—Å—è –∑–∞–ø–∏—Å—å –≤ `try_on_history` —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `processing`
3. –°–∏—Å—Ç–µ–º–∞ —Å–æ–±–∏—Ä–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ:
   - –§–æ—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (file_path)
   - 2 —Ñ–æ—Ç–æ —Ç–æ–≤–∞—Ä–∞ (photo_1_url, photo_2_url –∏–∑ Google Sheets)
   - –¢–µ–∫—Å—Ç–æ–≤—ã–π –ø—Ä–æ–º–ø—Ç (—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π)
4. –û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ –≤ GPT Integration Service ‚Üí Gemini API
5. –û–∂–∏–¥–∞–Ω–∏–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ (~180 —Å–µ–∫—É–Ω–¥, –±–µ–∑ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π)
6. –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ (base64 data URI)
7. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä –≤ `/storage/try_on_results/{user_id}/`
8. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å–∏ –≤ –ë–î: —Å—Ç–∞—Ç—É—Å `success`, `result_file_path`, `generation_time`

**–§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ–º–ø—Ç –¥–ª—è Gemini:**
```
–°–æ–∑–¥–∞–π —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ, –≥–¥–µ —á–µ–ª–æ–≤–µ–∫ —Å –ø–µ—Ä–≤–æ–≥–æ —Ñ–æ—Ç–æ –æ–¥–µ—Ç –≤ –æ–¥–µ–∂–¥—É —Å –¥—Ä—É–≥–∏—Ö —Ñ–æ—Ç–æ.
–°–æ—Ö—Ä–∞–Ω–∏ —á–µ—Ä—Ç—ã –ª–∏—Ü–∞, –ø—Ä–∏—á–µ—Å–∫—É –∏ –ø–æ–∑—É —á–µ–ª–æ–≤–µ–∫–∞.
–û–¥–µ–∂–¥–∞ –¥–æ–ª–∂–Ω–∞ –≤—ã–≥–ª—è–¥–µ—Ç—å –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ –Ω–∞ —Ñ–∏–≥—É—Ä–µ —Å —É—á–µ—Ç–æ–º —Å–∫–ª–∞–¥–æ–∫ –∏ –¥—Ä–∞–ø–∏—Ä–æ–≤–∫–∏.
–°–æ—Ö—Ä–∞–Ω–∏ —Ñ–æ–Ω –∏–∑ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ —Ñ–æ—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
```

**–í–æ –≤—Ä–µ–º—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏:**
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ: "–°–æ–∑–¥–∞–µ–º —Ç–≤–æ—é –ø—Ä–∏–º–µ—Ä–∫—É... –≠—Ç–æ –∑–∞–π–º–µ—Ç –æ–∫–æ–ª–æ 3 –º–∏–Ω—É—Ç ‚è≥"
- –û—Ç–º–µ–Ω–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å –Ω–µ–ª—å–∑—è

**–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏:**
- –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç (–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ)
- –ü–æ–¥–ø–∏—Å—å: "–í–æ—Ç –∫–∞–∫ –Ω–∞ —Ç–µ–±–µ –±—É–¥–µ—Ç —Å–º–æ—Ç—Ä–µ—Ç—å—Å—è [–Ω–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞]! üí´"
- –ö–Ω–æ–ø–∫–∏:
  - "üîó –ö—É–ø–∏—Ç—å –Ω–∞ WB"
  - "üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç" (–æ—Ç–ø—Ä–∞–≤–∫–∞ –∫–∞–∫ –¥–æ–∫—É–º–µ–Ω—Ç)
  - "üîÑ –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –¥—Ä—É–≥–æ–µ —Ñ–æ—Ç–æ"
  - "üëó –ü—Ä–∏–º–µ—Ä–∏—Ç—å –¥—Ä—É–≥–æ–π —Ç–æ–≤–∞—Ä"
  - "‚óÄÔ∏è –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ —Ç–æ–≤–∞—Ä—É"

**–ü—Ä–∏ –æ—à–∏–±–∫–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏:**
- –ó–∞–ø–∏—Å—å –≤ –ë–î –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è: —Å—Ç–∞—Ç—É—Å `failed`
- –°–æ–æ–±—â–µ–Ω–∏–µ: "–ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ–∑–¥–∞—Ç—å –ø—Ä–∏–º–µ—Ä–∫—É üòî –ü–æ–ø—Ä–æ–±—É–π –∑–∞–≥—Ä—É–∑–∏—Ç—å –¥—Ä—É–≥–æ–µ —Ñ–æ—Ç–æ –∏–ª–∏ –≤—ã–±—Ä–∞—Ç—å –¥—Ä—É–≥–æ–π —Ç–æ–≤–∞—Ä"
- –ö–Ω–æ–ø–∫–∏: "üì∏ –ó–∞–≥—Ä—É–∑–∏—Ç—å –¥—Ä—É–≥–æ–µ —Ñ–æ—Ç–æ", "‚óÄÔ∏è –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ —Ç–æ–≤–∞—Ä—É"

---

## 4. –ò–°–¢–û–†–ò–Ø –ü–†–ò–ú–ï–†–û–ö

### 4.1 –ü—Ä–æ—Å–º–æ—Ç—Ä –∏—Å—Ç–æ—Ä–∏–∏

**–î–æ—Å—Ç—É–ø:**
- –í –≥–ª–∞–≤–Ω–æ–º –º–µ–Ω—é –ø–æ—è–≤–ª—è–µ—Ç—Å—è –∫–Ω–æ–ø–∫–∞ "üìú –ò—Å—Ç–æ—Ä–∏—è –ø—Ä–∏–º–µ—Ä–æ–∫" (–ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–π –ø—Ä–∏–º–µ—Ä–∫–∏)
- –û—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–∞—Ä—Ç–æ—á–∫–∏ —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π (–∫–∞–∫ —Ç–æ–≤–∞—Ä—ã)

**–ö–∞—Ä—Ç–æ—á–∫–∞ –ø—Ä–∏–º–µ—Ä–∫–∏:**
- –†–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–∏–º–µ—Ä–∫–∏ (–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ)
- –ù–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞
- –î–∞—Ç–∞ –ø—Ä–∏–º–µ—Ä–∫–∏
- –ö–Ω–æ–ø–∫–∏:
  - "üîó –ö—É–ø–∏—Ç—å –Ω–∞ WB"
  - "üíæ –°–∫–∞—á–∞—Ç—å"
  - "üóë –£–¥–∞–ª–∏—Ç—å –∏–∑ –∏—Å—Ç–æ—Ä–∏–∏"

**–ü–∞–≥–∏–Ω–∞—Ü–∏—è:**
- –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ –∫–∞—Ç–∞–ª–æ–≥—É —Ç–æ–≤–∞—Ä–æ–≤ (‚óÄÔ∏è / ‚ñ∂Ô∏è)
- –°—á–µ—Ç—á–∏–∫: "–ü—Ä–∏–º–µ—Ä–∫–∞ 3 –∏–∑ 15"
- –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞: –æ—Ç –Ω–æ–≤—ã—Ö –∫ —Å—Ç–∞—Ä—ã–º

**–£–¥–∞–ª–µ–Ω–∏–µ –∏–∑ –∏—Å—Ç–æ—Ä–∏–∏:**
- –ó–∞–ø–∏—Å—å —É–¥–∞–ª—è–µ—Ç—Å—è –∏–∑ –ë–î
- –§–∞–π–ª —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ —É–¥–∞–ª—è–µ—Ç—Å—è —Å —Å–µ—Ä–≤–µ—Ä–∞
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ: "–ü—Ä–∏–º–µ—Ä–∫–∞ —É–¥–∞–ª–µ–Ω–∞"

---

## 5. –õ–ò–ú–ò–¢–´ –ò –û–ì–†–ê–ù–ò–ß–ï–ù–ò–Ø

### 5.1 Rate limiting

**–ü—Ä–∏–º–µ—Ä–∫–∏:**
- –ú–∞–∫—Å–∏–º—É–º 10 –ø—Ä–∏–º–µ—Ä–æ–∫ –≤ –¥–µ–Ω—å –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ü–æ–¥—Å—á–µ—Ç: COUNT –∑–∞–ø–∏—Å–µ–π –≤ `try_on_history` —Å `created_at >= TODAY`
- –ü—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏: "–¢—ã –¥–æ—Å—Ç–∏–≥ –ª–∏–º–∏—Ç–∞ –ø—Ä–∏–º–µ—Ä–æ–∫ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è (10/10). –ü–æ–ø—Ä–æ–±—É–π –∑–∞–≤—Ç—Ä–∞! üòä"

**–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ:**
- –ë–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –≤ –¥–µ–Ω—å
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ –ø–æ —Ö—Ä–∞–Ω–µ–Ω–∏—é (–º–∞–∫—Å–∏–º—É–º 3 —Ñ–æ—Ç–æ)

### 5.2 –•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

**–°—Ä–æ–∫ —Ö—Ä–∞–Ω–µ–Ω–∏—è:**
- –§–æ—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π: –ø–æ–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ —É–¥–∞–ª–∏—Ç –∏–ª–∏ –Ω–µ –∑–∞–º–µ–Ω–∏—Ç
- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–∏–º–µ—Ä–æ–∫: –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Å—Ä–æ–∫–∞ (–ø–æ–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ —É–¥–∞–ª–∏—Ç)

**–°–æ–≥–ª–∞—Å–∏–µ –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É:**
- –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–π –∑–∞–≥—Ä—É–∑–∫–µ –Ω–æ–≤–æ–≥–æ —Ñ–æ—Ç–æ
- –§–∏–∫—Å–∏—Ä—É–µ—Ç—Å—è –≤ –ø–æ–ª–µ `consent_given` –≤ —Ç–∞–±–ª–∏—Ü–µ `user_photos`
- –¢–µ–∫—Å—Ç —Å–æ–≥–ª–∞—Å–∏—è: "–î–ª—è —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–º–µ—Ä–∫–∏ –Ω–∞–º –Ω—É–∂–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å —Ç–≤–æ–µ —Ñ–æ—Ç–æ —Å –ø–æ–º–æ—â—å—é AI. –ú—ã —Å–æ—Ö—Ä–∞–Ω–∏–º —Ñ–æ—Ç–æ –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è. –§–æ—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è –ø—Ä–∏–º–µ—Ä–∫–∏ –∏ –Ω–µ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è —Ç—Ä–µ—Ç—å–∏–º –ª–∏—Ü–∞–º. –°–æ–≥–ª–∞—Å–µ–Ω(–Ω–∞)?"

---

## 6. –ê–î–ú–ò–ù–ò–°–¢–†–ê–¢–ò–í–ù–ê–Ø –ü–ê–ù–ï–õ–¨

### 6.1 –ù–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤ /admin_stats

**–ü—Ä–∏–º–µ—Ä–∫–∏:**
- –í—Å–µ–≥–æ –ø—Ä–∏–º–µ—Ä–æ–∫: `COUNT(*) FROM try_on_history WHERE status = 'success'`
- –ü—Ä–∏–º–µ—Ä–æ–∫ —Å–µ–≥–æ–¥–Ω—è: —Å —Ñ–∏–ª—å—Ç—Ä–æ–º `created_at >= TODAY`
- –ü—Ä–∏–º–µ—Ä–æ–∫ –∑–∞ 7 –¥–Ω–µ–π
- –ü—Ä–∏–º–µ—Ä–æ–∫ –∑–∞ 30 –¥–Ω–µ–π
- –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏: `AVG(generation_time) WHERE status = 'success'`
- –ü—Ä–æ—Ü–µ–Ω—Ç —É—Å–ø–µ—à–Ω—ã—Ö: `(success / (success + failed)) * 100`

**–¢–û–ü —Ç–æ–≤–∞—Ä–æ–≤ –¥–ª—è –ø—Ä–∏–º–µ—Ä–∫–∏:**
- –¢–û–ü-5 —Ç–æ–≤–∞—Ä–æ–≤ –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –ø—Ä–∏–º–µ—Ä–æ–∫: `GROUP BY product_id, COUNT(*) FROM try_on_history`

**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å —Ñ–æ—Ç–æ:**
- –ó–∞–≥—Ä—É–∑–∏–ª–∏ —Ñ–æ—Ç–æ: `COUNT(DISTINCT user_id) FROM user_photos`

---

## 7. –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø –° GPT INTEGRATION SERVICE

### 7.1 –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

**GPT Integration Service:**
- –û—Ç–¥–µ–ª—å–Ω—ã–π FastAPI –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å (–ø–æ—Ä—Ç 9001)
- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ API –∫–ª—é—á (`X-API-Key` header)
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤

### 7.2 API endpoints

**POST /v1/photo/validate**
- –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ç–æ —á–µ—Ä–µ–∑ ChatGPT
- –í—Ö–æ–¥: `{telegram_id, photo_file_id}`
- –í—ã—Ö–æ–¥: `{valid: bool, reason: string, description: string}`

**POST /v1/photo/process**
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–∏–º–µ—Ä–∫–∏ —á–µ—Ä–µ–∑ Gemini
- –í—Ö–æ–¥: `{telegram_id, photo_file_ids: [user_photo, product_photo_1, product_photo_2], prompt}`
- –í—ã—Ö–æ–¥: `{status: "success", result: {photo_url: "data:image/png;base64,...", processing_time: 145.2}}`

### 7.3 –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

**Timeout:**
- –ï—Å–ª–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–µ–≤—ã—à–∞–µ—Ç 180 —Å–µ–∫—É–Ω–¥ - –æ—à–∏–±–∫–∞ timeout
- –í–æ–∑–≤—Ä–∞—Ç: `{status: "error", error_type: "timeout", message: "..."}`

**API errors:**
- –ù–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å Gemini/ChatGPT API
- –í–æ–∑–≤—Ä–∞—Ç: `{status: "error", error_type: "api_error", message: "..."}`

**Processing errors:**
- –û—à–∏–±–∫–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- –í–æ–∑–≤—Ä–∞—Ç: `{status: "error", error_type: "processing_error", message: "..."}`

---

## 8. UX –ò TONE OF VOICE

### 8.1 –°–æ–æ–±—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é

**–ó–∞–ø—Ä–æ—Å –Ω–∞ –∑–∞–≥—Ä—É–∑–∫—É —Ñ–æ—Ç–æ:**
```
–ß—Ç–æ–±—ã –ø—Ä–∏–º–µ—Ä–∏—Ç—å –æ–¥–µ–∂–¥—É, –∑–∞–≥—Ä—É–∑–∏ —Å–≤–æ–µ —Ñ–æ—Ç–æ!

–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
üì∏ –§–æ—Ç–æ –º–∏–Ω–∏–º—É–º –ø–æ –ø–æ—è—Å
üí° –•–æ—Ä–æ—à–µ–µ –æ—Å–≤–µ—â–µ–Ω–∏–µ
üéØ –õ–∏—Ü–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤–∏–¥–Ω–æ

–ó–∞–≥—Ä—É–∑–∏ —Ñ–æ—Ç–æ –ø—Ä—è–º–æ –≤ —á–∞—Ç!
```

**–°–æ–≥–ª–∞—Å–∏–µ –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É:**
```
–î–ª—è —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–º–µ—Ä–∫–∏ –Ω–∞–º –Ω—É–∂–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å —Ç–≤–æ–µ —Ñ–æ—Ç–æ —Å –ø–æ–º–æ—â—å—é AI.

–ú—ã —Å–æ—Ö—Ä–∞–Ω–∏–º —Ñ–æ—Ç–æ –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è. –§–æ—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è –ø—Ä–∏–º–µ—Ä–∫–∏ –∏ –Ω–µ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è —Ç—Ä–µ—Ç—å–∏–º –ª–∏—Ü–∞–º.

–°–æ–≥–ª–∞—Å–µ–Ω(–Ω–∞)?
```

**–í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–µ –ø—Ä–æ—à–ª–∞:**
- –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞ –æ—Ç ChatGPT
- –ü—Ä–∏–º–µ—Ä: "–ù–∞ —Ñ–æ—Ç–æ –Ω–µ –≤–∏–¥–Ω–æ —á–µ–ª–æ–≤–µ–∫–∞ –≤ –ø–æ–ª–Ω—ã–π —Ä–æ—Å—Ç. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–≥—Ä—É–∑–∏ —Ñ–æ—Ç–æ, –≥–¥–µ —Ç—ã –≤–∏–¥–Ω–∞ –º–∏–Ω–∏–º—É–º –ø–æ –ø–æ—è—Å"

**–ì–µ–Ω–µ—Ä–∞—Ü–∏—è:**
```
–°–æ–∑–¥–∞–µ–º —Ç–≤–æ—é –ø—Ä–∏–º–µ—Ä–∫—É... –≠—Ç–æ –∑–∞–π–º–µ—Ç –æ–∫–æ–ª–æ 3 –º–∏–Ω—É—Ç ‚è≥
```

**–õ–∏–º–∏—Ç –ø—Ä–∏–º–µ—Ä–æ–∫:**
```
–¢—ã –¥–æ—Å—Ç–∏–≥ –ª–∏–º–∏—Ç–∞ –ø—Ä–∏–º–µ—Ä–æ–∫ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è (10/10). –ü–æ–ø—Ä–æ–±—É–π –∑–∞–≤—Ç—Ä–∞! üòä
```

### 8.2 –ù–∞–≤–∏–≥–∞—Ü–∏—è

**–ö–Ω–æ–ø–∫–∞ "–ü—Ä–∏–º–µ—Ä–∏—Ç—å":**
- –í –∫–∞—Ä—Ç–æ—á–∫–µ —Ç–æ–≤–∞—Ä–∞ (–±—ã–ª–∞ –∑–∞–≥–ª—É—à–∫–æ–π –Ω–∞ —ç—Ç–∞–ø–µ 1)
- –¢–µ–ø–µ—Ä—å –∞–∫—Ç–∏–≤–Ω–∞ –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å –ø—Ä–∏–º–µ—Ä–∫–∏

**–†–∞–∑–¥–µ–ª "–ú–æ–∏ —Ñ–æ—Ç–æ":**
- –î–æ—Å—Ç—É–ø –∏–∑ "üìê –ú–æ–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã"
- –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –≤—Å–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ —Ñ–æ—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**–ò—Å—Ç–æ—Ä–∏—è –ø—Ä–∏–º–µ—Ä–æ–∫:**
- –ù–æ–≤–∞—è –∫–Ω–æ–ø–∫–∞ –≤ –≥–ª–∞–≤–Ω–æ–º –º–µ–Ω—é (–ø–æ—è–≤–ª—è–µ—Ç—Å—è –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–π –ø—Ä–∏–º–µ—Ä–∫–∏)

---

## 9. –ö–†–ò–¢–ï–†–ò–ò –ü–†–ò–ï–ú–ö–ò –≠–¢–ê–ü–ê 2

### 9.1 –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

**–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (JPG/PNG, –∞–≤—Ç–æ—Å–∂–∞—Ç–∏–µ –µ—Å–ª–∏ >10 –ú–ë)
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ç–æ —á–µ—Ä–µ–∑ ChatGPT
- ‚úÖ –°–æ–≥–ª–∞—Å–∏–µ –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É —Ñ–æ—Ç–æ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–æ 3 —Ñ–æ—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–º–∏ —Ñ–æ—Ç–æ
- ‚úÖ –í—ã–±–æ—Ä —Ñ–æ—Ç–æ –¥–ª—è –ø—Ä–∏–º–µ—Ä–∫–∏
- ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–∏–º–µ—Ä–∫–∏ —á–µ—Ä–µ–∑ Gemini API
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –ø—Ä–∏–º–µ—Ä–∫–∏
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –ø—Ä–∏–º–µ—Ä–æ–∫
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä –∏—Å—Ç–æ—Ä–∏–∏ —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π
- ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ –∏–∑ –∏—Å—Ç–æ—Ä–∏–∏
- ‚úÖ –õ–∏–º–∏—Ç 10 –ø—Ä–∏–º–µ—Ä–æ–∫ –≤ –¥–µ–Ω—å
- ‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–∏–º–µ—Ä–æ–∫ –≤ /admin_stats
- ‚úÖ –¢–û–ü —Ç–æ–≤–∞—Ä–æ–≤ –¥–ª—è –ø—Ä–∏–º–µ—Ä–∫–∏

### 9.2 –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

**–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ç–æ < 10 —Å–µ–∫—É–Ω–¥
- ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–∏–º–µ—Ä–∫–∏ < 180 —Å–µ–∫—É–Ω–¥
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ API (timeout, –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å)

**–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å:**
- ‚úÖ Retry-–ª–æ–≥–∏–∫–∞ –¥–ª—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ—à–∏–±–æ–∫ (–≤ GPT Integration Service)
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –æ—à–∏–±–æ–∫
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

### 9.3 –¢–µ—Å—Ç–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

1. –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–æ—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–ø–µ—Ä–≤—ã–π —Ä–∞–∑)
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é (–ø–æ–¥—Ö–æ–¥—è—â–µ–µ —Ñ–æ—Ç–æ)
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é (–Ω–µ–ø–æ–¥—Ö–æ–¥—è—â–µ–µ —Ñ–æ—Ç–æ)
4. –ü—Ä–∏–º–µ—Ä–∏—Ç—å —Ç–æ–≤–∞—Ä
5. –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç
6. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç
7. –ó–∞–≥—Ä—É–∑–∏—Ç—å –≤—Ç–æ—Ä–æ–µ –∏ —Ç—Ä–µ—Ç—å–µ —Ñ–æ—Ç–æ
8. –ó–∞–≥—Ä—É–∑–∏—Ç—å —á–µ—Ç–≤–µ—Ä—Ç–æ–µ —Ñ–æ—Ç–æ (—É–¥–∞–ª–µ–Ω–∏–µ –ø–µ—Ä–≤–æ–≥–æ)
9. –ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∏—Å—Ç–æ—Ä–∏—é –ø—Ä–∏–º–µ—Ä–æ–∫
10. –£–¥–∞–ª–∏—Ç—å –ø—Ä–∏–º–µ—Ä–∫—É –∏–∑ –∏—Å—Ç–æ—Ä–∏–∏
11. –î–æ—Å—Ç–∏—á—å –ª–∏–º–∏—Ç–∞ –ø—Ä–∏–º–µ—Ä–æ–∫ (10/–¥–µ–Ω—å)
12. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –≤ /admin_stats

---

## 10. –ò–¢–û–ì–ò –≠–¢–ê–ü–ê 2

### 10.1 –†–µ–∑—É–ª—å—Ç–∞—Ç

**–ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—Ç–∞—é—â–∞—è AI-–ø—Ä–∏–º–µ—Ä–∫–∞:**
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å —Å–≤–æ–∏ —Ñ–æ—Ç–æ
- –°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–∞—á–µ—Å—Ç–≤–æ —Ñ–æ—Ç–æ —á–µ—Ä–µ–∑ AI
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã—Ö –ø—Ä–∏–º–µ—Ä–æ–∫
- –ò—Å—Ç–æ—Ä–∏—è –≤—Å–µ—Ö –ø—Ä–∏–º–µ—Ä–æ–∫ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∏ —É–¥–∞–ª–µ–Ω–∏—è

**–£–Ω–∏–∫–∞–ª—å–Ω–æ–µ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ:**
- –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è —Ñ–∏—á–∞, –æ—Ç–ª–∏—á–∞—é—â–∞—è –º–∞–≥–∞–∑–∏–Ω –æ—Ç –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤
- –ü–æ–≤—ã—à–µ–Ω–∏–µ –≤–æ–≤–ª–µ—á–µ–Ω–Ω–æ—Å—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –°–Ω–∏–∂–µ–Ω–∏–µ –≤–æ–∑–≤—Ä–∞—Ç–æ–≤ (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤–∏–¥—è—Ç —Ç–æ–≤–∞—Ä –Ω–∞ —Å–µ–±–µ)

### 10.2 –í—Ä–µ–º—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

**–ü—Ä–∏–º–µ—Ä–Ω–∞—è –æ—Ü–µ–Ω–∫–∞:**
- 5-7 –¥–Ω–µ–π –¥–ª—è –æ–ø—ã—Ç–Ω–æ–≥–æ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞
- –í–∫–ª—é—á–∞–µ—Ç: –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å Gemini API, GPT Integration Service, —Ç–∞–±–ª–∏—Ü—ã –ë–î, –æ–±—Ä–∞–±–æ—Ç–∫—É —Ñ–æ—Ç–æ, UI/UX –ø—Ä–∏–º–µ—Ä–∫–∏
